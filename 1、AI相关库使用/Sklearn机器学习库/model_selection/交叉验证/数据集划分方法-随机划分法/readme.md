## 基于类标签的交叉验证迭代器

一些分类问题在 __目标类别的分布上可能表现出很大的不平衡性__：例如，可能会出现比正样本多数倍的负样本。可以采用 __StratifiedKFold__ 和 __StratifiedShuffleSplit__ 中实现的分层抽样方法，__确保相对的类别频率在每个训练和验证折叠中大致保留__。

### ShuffleSplit

ShuffleSplit不分层，ShuffleSplit 把数据集打乱顺序，然后划分测试集和训练集，训练集额和测试集的比例随机选定，训练集和测试集的比例的和可以小于1

### 分层k折

__StratifiedKFold__ 是k-fold的变种，会返回stratified（分层）的折叠：每个小集合中，各个类别的样例比例大致和完整数据集中相同。

### 分层随机Split

__StratifiedShuffleSplit__ 是ShuffleSplit的一个变种，会返回直接的划分，比如：创建一个划分，但是划分中每个类的比例和完整数据集中的相同。


### 分层采样

当你的数据集很大时（尤其是和属性数相比），我们通常采用的都是纯随机的取样方法，这是可行的；

但如果数据集不大，就会有采样偏差的风险。

当一个调查公司想要对 1000	个人进行调查，它们不是在电话亭里随机选 1000	个人出来。调查公司要保证这 1000 个人对人群整体 __有代表性__。

例如，美国人口的 51.3% 是女性，48.7% 是男性。所以在美国，严谨的调查需要保证样本也是这个比例：513 名女性，487 名男性。这称作 __分层采样 （stratified	sampling）__ 。

__分层采样 （stratified	sampling）__：将人群分成均匀的子分组，称为分层，从每个分层去取合适数量的 实例，以保证测试集对总人数有代表性。如果调查公司采用纯随机采样，会有12%的概率导致采样偏差：女性人数少于49%，或多于54%。不管发生那种情况，调查结果都会严重偏差。

分层采样可以有效的让我们降低采样偏差。

在sklearn中我们，可以使用 __StratifiedShuffleSplit 或者 StratifiedKFold__ 来分层采样。



